<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ConnectMe - Social Media Platform</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">
        <script>
            tailwind.config = {
                darkMode: 'class',
                theme: {
                    extend: {
                        colors: {
                            primary: '#5D5CDE',
                            'primary-dark': '#4A49B0',
                            'primary-light': '#7978E9',
                        },
                        animation: {
                            'fade-in': 'fadeIn 0.3s ease-in-out',
                            'slide-in': 'slideIn 0.3s ease-in-out',
                            'bounce-in': 'bounceIn 0.5s ease',
                            'pulse-once': 'pulse 1s ease-in-out',
                        },
                        keyframes: {
                            fadeIn: {
                                '0%': { opacity: '0' },
                                '100%': { opacity: '1' },
                            },
                            slideIn: {
                                '0%': { transform: 'translateY(10px)', opacity: '0' },
                                '100%': { transform: 'translateY(0)', opacity: '1' },
                            },
                            bounceIn: {
                                '0%': { transform: 'scale(0.8)', opacity: '0' },
                                '70%': { transform: 'scale(1.05)', opacity: '1' },
                                '100%': { transform: 'scale(1)', opacity: '1' },
                            },
                        },
                    },
                },
            }
        </script>
        <style>
            body {
                font-family: 'Inter', sans-serif;
            }

            /* Custom scrollbar */
            .custom-scrollbar::-webkit-scrollbar {
                width: 4px;
            }

            .custom-scrollbar::-webkit-scrollbar-track {
                background: transparent;
            }

            .custom-scrollbar::-webkit-scrollbar-thumb {
                background-color: rgba(156, 163, 175, 0.5);
                border-radius: 20px;
            }

            .dark .custom-scrollbar::-webkit-scrollbar-thumb {
                background-color: rgba(75, 85, 99, 0.5);
            }

            /* Mobile sidebar menu */
            .mobile-menu {
                position: fixed;
                left: 0;
                top: 0;
                bottom: 0;
                width: 280px;
                z-index: 50;
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
            }

            .mobile-menu.open {
                transform: translateX(0);
            }

            .mobile-overlay {
                position: fixed;
                inset: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 40;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.3s ease-in-out;
            }

            .mobile-overlay.open {
                opacity: 1;
                pointer-events: auto;
            }

            /* Post reactions animation */
            .reaction-btn.active svg {
                animation: pulse 0.5s ease-in-out;
            }

            /* Notification badge */
            .notification-badge {
                position: absolute;
                top: -2px;
                right: -2px;
                height: 18px;
                min-width: 18px;
                padding: 0 5px;
                border-radius: 9px;
                font-size: 11px;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            /* Make profile image container square with rounded corners */
            .profile-image-container {
                aspect-ratio: 1 / 1;
            }

            /* Post image container */
            .post-image-container {
                aspect-ratio: 16 / 9;
                overflow: hidden;
                position: relative;
            }

            /* Floating action button */
            .floating-action-btn {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 20;
                height: 56px;
                width: 56px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            }

            /* Comment fade effect */
            .comments-container {
                max-height: 300px;
                overflow-y: auto;
            }

            .comments-container::after {
                content: "";
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 40px;
                background: linear-gradient(to top, var(--comment-fade-color), transparent);
                pointer-events: none;
            }

            .light-mode .comments-container::after {
                --comment-fade-color: rgba(255, 255, 255, 1);
            }

            .dark-mode .comments-container::after {
                --comment-fade-color: rgba(31, 41, 55, 1);
            }

            /* Story circles */
            .story-circle {
                position: relative;
                width: 60px;
                height: 60px;
                border-radius: 50%;
                padding: 2px;
                background-image: linear-gradient(45deg, #5D5CDE, #E559B2, #FF8B2E);
            }

            .story-circle-inner {
                width: 100%;
                height: 100%;
                border-radius: 50%;
                overflow: hidden;
                background: white;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .dark .story-circle-inner {
                background: #1F2937;
            }
        </style>
    </head>

    <body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen">
        <!-- Mobile Menu Overlay -->
        <div id="mobileOverlay" class="mobile-overlay md:hidden"></div>

        <!-- Mobile Sidebar -->
        <div id="mobileSidebar" class="mobile-menu bg-white dark:bg-gray-800 shadow-lg md:hidden">
            <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary dark:text-primary-light mr-2"
                        viewBox="0 0 20 20" fill="currentColor">
                        <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
                        <path
                            d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
                    </svg>
                    <h1 class="text-xl font-bold text-primary dark:text-primary-light">ConnectMe</h1>
                </div>
                <button id="closeMobileMenu" class="text-gray-500 dark:text-gray-400">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>

            <div class="p-4">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="relative">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                            alt="Your profile" class="w-10 h-10 rounded-full">
                    </div>
                    <div>
                        <div class="font-medium">John Smith</div>
                        <div class="text-xs text-gray-500 dark:text-gray-400">@johnsmith</div>
                    </div>
                </div>

                <nav class="space-y-1">
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md bg-primary bg-opacity-10 text-primary dark:bg-opacity-20 dark:text-primary-light">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                        <span>Home</span>
                    </a>
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <span>Explore</span>
                    </a>
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                        </svg>
                        <span>Notifications</span>
                        <span class="bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full">3</span>
                    </a>
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                        </svg>
                        <span>Messages</span>
                        <span class="bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full">5</span>
                    </a>
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                        </svg>
                        <span>Profile</span>
                    </a>
                    <a href="#"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <span>Settings</span>
                    </a>
                </nav>

                <div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
                    <button id="mobileThemeToggle"
                        class="flex items-center space-x-3 px-3 py-2 rounded-md w-full text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                        <svg id="mobileMoonIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                        </svg>
                        <svg id="mobileSunIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        <span id="mobileThemeText">Dark Mode</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="flex">
            <!-- Desktop Sidebar -->
            <aside class="hidden md:block w-64 h-screen sticky top-0 bg-white dark:bg-gray-800 shadow-sm">
                <div class="flex flex-col h-full">
                    <!-- Logo -->
                    <div class="flex items-center p-4 border-b border-gray-200 dark:border-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg"
                            class="h-8 w-8 text-primary dark:text-primary-light mr-2" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
                            <path
                                d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
                        </svg>
                        <h1 class="text-xl font-bold text-primary dark:text-primary-light">ConnectMe</h1>
                    </div>

                    <!-- Navigation -->
                    <nav class="flex-grow p-4 space-y-1">
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md bg-primary bg-opacity-10 text-primary dark:bg-opacity-20 dark:text-primary-light">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                            </svg>
                            <span>Home</span>
                        </a>
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                            <span>Explore</span>
                        </a>
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <div class="relative">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                </svg>
                                <span
                                    class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">3</span>
                            </div>
                            <span>Notifications</span>
                        </a>
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <div class="relative">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                </svg>
                                <span
                                    class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">5</span>
                            </div>
                            <span>Messages</span>
                        </a>
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span>Profile</span>
                        </a>
                        <a href="#"
                            class="flex items-center space-x-3 px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span>Settings</span>
                        </a>
                    </nav>

                    <!-- User Profile -->
                    <div class="p-4 border-t border-gray-200 dark:border-gray-700 mt-auto">
                        <div class="flex items-center">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                                alt="Your profile" class="w-10 h-10 rounded-full">
                            <div class="ml-3">
                                <div class="font-medium">John Smith</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400">@johnsmith</div>
                            </div>
                            <button id="themeToggle" class="ml-auto text-gray-500 dark:text-gray-400">
                                <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                                </svg>
                                <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 min-h-screen">
                <!-- Mobile Header -->
                <header class="md:hidden bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-10">
                    <div class="flex items-center justify-between p-4">
                        <button id="openMobileMenu" class="text-gray-500 dark:text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                        <div class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="h-8 w-8 text-primary dark:text-primary-light mr-2" viewBox="0 0 20 20"
                                fill="currentColor">
                                <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
                                <path
                                    d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
                            </svg>
                            <h1 class="text-xl font-bold text-primary dark:text-primary-light">ConnectMe</h1>
                        </div>
                        <div class="flex items-center space-x-3">
                            <button class="text-gray-500 dark:text-gray-400 relative">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                </svg>
                                <span class="notification-badge bg-red-500 text-white">5</span>
                            </button>
                            <button class="text-gray-500 dark:text-gray-400 relative">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                                </svg>
                                <span class="notification-badge bg-red-500 text-white">3</span>
                            </button>
                        </div>
                    </div>
                </header>

                <div class="max-w-3xl mx-auto px-4 py-6">
                    <!-- Stories -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow mb-6 p-4">
                        <div class="flex space-x-4 overflow-x-auto pb-2">
                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none"
                                            viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                                        </svg>
                                    </div>
                                </div>
                                <span class="text-xs">Add Story</span>
                            </div>

                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%23E879F9'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='22' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EE%3C/text%3E%3C/svg%3E"
                                            alt="Emma" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <span class="text-xs">Emma</span>
                            </div>

                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%2334D399'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='22' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EM%3C/text%3E%3C/svg%3E"
                                            alt="Michael" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <span class="text-xs">Michael</span>
                            </div>

                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%23F59E0B'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='22' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ES%3C/text%3E%3C/svg%3E"
                                            alt="Sophia" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <span class="text-xs">Sophia</span>
                            </div>

                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%234B5563'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='22' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJ%3C/text%3E%3C/svg%3E"
                                            alt="Jake" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <span class="text-xs">Jake</span>
                            </div>

                            <div class="flex flex-col items-center space-y-1 flex-shrink-0">
                                <div class="story-circle">
                                    <div class="story-circle-inner">
                                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'%3E%3Crect width='60' height='60' fill='%23EC4899'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='22' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EA%3C/text%3E%3C/svg%3E"
                                            alt="Ava" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <span class="text-xs">Ava</span>
                            </div>
                        </div>
                    </div>

                    <!-- Create Post -->
                    <div class="bg-white dark:bg-gray-800 rounded-lg shadow mb-6 p-4">
                        <div class="flex space-x-3">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                                alt="Your profile" class="w-10 h-10 rounded-full">
                            <button id="openPostModal"
                                class="bg-gray-100 dark:bg-gray-700 rounded-full px-4 py-2 flex-grow text-left text-gray-500 dark:text-gray-400">
                                What's on your mind, John?
                            </button>
                        </div>
                        <div class="flex mt-3 pt-3 border-t border-gray-200 dark:border-gray-700">
                            <button
                                class="flex items-center justify-center space-x-2 flex-grow text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg py-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                                <span class="text-sm">Live Video</span>
                            </button>
                            <button
                                class="flex items-center justify-center space-x-2 flex-grow text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg py-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                <span class="text-sm">Photo/Video</span>
                            </button>
                            <button
                                class="flex items-center justify-center space-x-2 flex-grow text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg py-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span class="text-sm">Feeling/Activity</span>
                            </button>
                        </div>
                    </div>

                    <!-- Posts -->
                    <div id="postsContainer" class="space-y-6">
                        <!-- Posts will be loaded dynamically -->
                    </div>
                </div>
            </main>

            <!-- Right Sidebar (Trending/Suggestions) -->
            <aside class="hidden lg:block w-80 p-4 sticky top-0 h-screen overflow-y-auto custom-scrollbar">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4">
                    <h2 class="font-bold text-lg mb-3">Trending Topics</h2>
                    <div class="space-y-3">
                        <div class="pb-3 border-b border-gray-200 dark:border-gray-700">
                            <div class="text-xs text-gray-500 dark:text-gray-400">#Technology</div>
                            <div class="font-medium">The future of AI in everyday life</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">4.8K posts</div>
                        </div>
                        <div class="pb-3 border-b border-gray-200 dark:border-gray-700">
                            <div class="text-xs text-gray-500 dark:text-gray-400">#Travel</div>
                            <div class="font-medium">Hidden gems for your next vacation</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">2.3K posts</div>
                        </div>
                        <div class="pb-3 border-b border-gray-200 dark:border-gray-700">
                            <div class="text-xs text-gray-500 dark:text-gray-400">#Health</div>
                            <div class="font-medium">Simple habits for better sleep quality</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">1.7K posts</div>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">#Food</div>
                            <div class="font-medium">Quick and healthy meal ideas</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">3.2K posts</div>
                        </div>
                    </div>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4">
                    <h2 class="font-bold text-lg mb-3">Suggested for You</h2>
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23EC4899'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EL%3C/text%3E%3C/svg%3E"
                                alt="Lily Chen" class="w-10 h-10 rounded-full">
                            <div class="ml-3">
                                <div class="font-medium">Lily Chen</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400">Designer</div>
                            </div>
                            <button
                                class="ml-auto bg-primary hover:bg-primary-dark text-white text-sm px-3 py-1 rounded-full transition">Follow</button>
                        </div>
                        <div class="flex items-center">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%2310B981'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ER%3C/text%3E%3C/svg%3E"
                                alt="Robert Kim" class="w-10 h-10 rounded-full">
                            <div class="ml-3">
                                <div class="font-medium">Robert Kim</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400">Developer</div>
                            </div>
                            <button
                                class="ml-auto bg-primary hover:bg-primary-dark text-white text-sm px-3 py-1 rounded-full transition">Follow</button>
                        </div>
                        <div class="flex items-center">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23F59E0B'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ED%3C/text%3E%3C/svg%3E"
                                alt="David Lee" class="w-10 h-10 rounded-full">
                            <div class="ml-3">
                                <div class="font-medium">David Lee</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400">Photographer</div>
                            </div>
                            <button
                                class="ml-auto bg-primary hover:bg-primary-dark text-white text-sm px-3 py-1 rounded-full transition">Follow</button>
                        </div>
                    </div>
                    <button class="text-primary dark:text-primary-light text-sm font-medium mt-3">See More</button>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
                    <h2 class="font-bold text-lg mb-3">Events</h2>
                    <div class="space-y-4">
                        <div class="p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="font-medium">Tech Meetup 2023</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Tomorrow, 6:00 PM</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">San Francisco, CA</div>
                            <div class="mt-2 text-sm">
                                <span class="text-primary dark:text-primary-light">12 friends</span> are going
                            </div>
                        </div>
                        <div class="p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                            <div class="font-medium">Digital Marketing Workshop</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Sep 28, 10:00 AM</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">Online</div>
                            <div class="mt-2 text-sm">
                                <span class="text-primary dark:text-primary-light">5 friends</span> are going
                            </div>
                        </div>
                    </div>
                    <button class="text-primary dark:text-primary-light text-sm font-medium mt-3">See All
                        Events</button>
                </div>
            </aside>
        </div>

        <!-- Floating Action Button (Mobile) -->
        <button id="mobileCreatePost" class="floating-action-btn md:hidden bg-primary hover:bg-primary-dark text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
        </button>

        <!-- Create Post Modal -->
        <div id="createPostModal" class="fixed inset-0 z-50 flex items-center justify-center hidden">
            <div class="absolute inset-0 bg-black bg-opacity-50" id="postModalOverlay"></div>
            <div class="bg-white dark:bg-gray-800 rounded-lg w-full max-w-md mx-4 z-10 animate-fade-in">
                <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                    <h2 class="text-lg font-bold">Create Post</h2>
                    <button id="closePostModal"
                        class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="p-4">
                    <div class="flex items-center mb-4">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                            alt="Your profile" class="w-10 h-10 rounded-full">
                        <div class="ml-3">
                            <div class="font-medium">John Smith</div>
                            <select
                                class="text-xs text-gray-500 dark:text-gray-400 bg-transparent border-0 p-0 cursor-pointer focus:ring-0">
                                <option>Public</option>
                                <option>Friends Only</option>
                                <option>Private</option>
                            </select>
                        </div>
                    </div>
                    <textarea id="postContent"
                        class="w-full border-0 focus:ring-0 p-2 bg-white dark:bg-gray-800 resize-none mb-3" rows="5"
                        placeholder="What's on your mind, John?"></textarea>

                    <div id="imagePreviewContainer" class="hidden mb-3 relative">
                        <div class="post-image-container rounded-lg bg-gray-200 dark:bg-gray-700">
                            <img id="imagePreview" src="" alt="Preview" class="w-full h-full object-cover rounded-lg">
                        </div>
                        <button id="removeImage"
                            class="absolute top-2 right-2 bg-gray-800 bg-opacity-70 text-white rounded-full p-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div class="p-3 border border-gray-200 dark:border-gray-700 rounded-lg mb-4">
                        <div class="font-medium mb-2">Add to your post</div>
                        <div class="flex space-x-4">
                            <button id="addImageBtn"
                                class="text-green-500 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-full transition">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </button>
                            <button
                                class="text-yellow-500 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-full transition">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </button>
                            <button
                                class="text-red-500 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-full transition">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                            </button>
                            <button
                                class="text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-full transition">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <button id="publishPostBtn"
                        class="w-full py-2 bg-primary hover:bg-primary-dark text-white rounded-lg transition font-medium">
                        Post
                    </button>
                </div>
            </div>
        </div>

        <!-- Hidden file input for image upload -->
        <input type="file" id="imageInput" accept="image/*" class="hidden">

        <script>
            // Posts data
            const posts = [
                {
                    id: 1,
                    user: {
                        name: "Emma Wilson",
                        username: "emmawilson",
                        avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23E879F9'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EE%3C/text%3E%3C/svg%3E"
                    },
                    time: "2 hours ago",
                    content: "Just finished a new design project! It's always satisfying to see everything come together after weeks of hard work. What do you think?",
                    image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='337' viewBox='0 0 600 337'%3E%3Crect width='600' height='337' fill='%23E879F9'/%3E%3Cpath d='M300,80 L380,200 L340,200 L340,257 L260,257 L260,200 L220,200 Z' fill='white'/%3E%3Crect x='150' y='120' width='300' height='20' rx='10' fill='white' fill-opacity='0.6'/%3E%3Crect x='180' y='160' width='240' height='20' rx='10' fill='white' fill-opacity='0.6'/%3E%3C/svg%3E",
                    likes: 42,
                    comments: 8,
                    shares: 5,
                    isLiked: false,
                    commentsList: [
                        {
                            id: 1,
                            user: {
                                name: "Michael Johnson",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%2334D399'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EM%3C/text%3E%3C/svg%3E"
                            },
                            content: "This looks amazing, Emma! Love the color palette you chose.",
                            time: "1 hour ago",
                            likes: 3
                        },
                        {
                            id: 2,
                            user: {
                                name: "Sophia Taylor",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%23F59E0B'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ES%3C/text%3E%3C/svg%3E"
                            },
                            content: "Great work! The typography really stands out. Would love to collaborate on a project sometime.",
                            time: "45 minutes ago",
                            likes: 1
                        }
                    ]
                },
                {
                    id: 2,
                    user: {
                        name: "Michael Johnson",
                        username: "michaelj",
                        avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%2334D399'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EM%3C/text%3E%3C/svg%3E"
                    },
                    time: "5 hours ago",
                    content: "Hiked to the summit today and the view was absolutely breathtaking! Nature never fails to amaze me.  #adventure #hiking #nature",
                    image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='337' viewBox='0 0 600 337'%3E%3Crect width='600' height='337' fill='%2334D399'/%3E%3Cpath d='M50,280 L200,100 L250,150 L300,80 L480,280 Z' fill='%23064e3b'/%3E%3Ccircle cx='500' cy='80' r='30' fill='%23fbbf24'/%3E%3C/svg%3E",
                    likes: 87,
                    comments: 12,
                    shares: 9,
                    isLiked: true,
                    commentsList: [
                        {
                            id: 3,
                            user: {
                                name: "Jake Miller",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%234B5563'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJ%3C/text%3E%3C/svg%3E"
                            },
                            content: "Which trail was this? Looks incredible!",
                            time: "3 hours ago",
                            likes: 2
                        },
                        {
                            id: 4,
                            user: {
                                name: "Emma Wilson",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%23E879F9'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EE%3C/text%3E%3C/svg%3E"
                            },
                            content: "Wow!  I need to add this to my bucket list. How difficult was the hike?",
                            time: "2 hours ago",
                            likes: 1
                        },
                        {
                            id: 5,
                            user: {
                                name: "Michael Johnson",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%2334D399'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EM%3C/text%3E%3C/svg%3E"
                            },
                            content: "It was the Sunrise Ridge Trail, Jake! Moderate difficulty but so worth it. Emma, I'd say it's a 6/10 on difficulty - takes about 4 hours round trip.",
                            time: "1 hour ago",
                            likes: 3
                        }
                    ]
                },
                {
                    id: 3,
                    user: {
                        name: "Sophia Taylor",
                        username: "sophiat",
                        avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%23F59E0B'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ES%3C/text%3E%3C/svg%3E"
                    },
                    time: "Yesterday",
                    content: "Just read the most amazing book! 'The Midnight Library' by Matt Haig really makes you think about the choices we make in life and how they shape our journey. Highly recommend!  #bookrecommendation #reading",
                    image: null,
                    likes: 34,
                    comments: 6,
                    shares: 2,
                    isLiked: false,
                    commentsList: [
                        {
                            id: 6,
                            user: {
                                name: "John Smith",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                            },
                            content: "I've been meaning to read that! Thanks for the recommendation.",
                            time: "Yesterday",
                            likes: 1
                        },
                        {
                            id: 7,
                            user: {
                                name: "Sophia Taylor",
                                avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%23F59E0B'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3ES%3C/text%3E%3C/svg%3E"
                            },
                            content: "You'll love it, John! Let me know what you think when you finish it.",
                            time: "Yesterday",
                            likes: 0
                        }
                    ]
                }
            ];

            // DOM Elements
            const postsContainer = document.getElementById('postsContainer');
            const openPostModal = document.getElementById('openPostModal');
            const closePostModal = document.getElementById('closePostModal');
            const createPostModal = document.getElementById('createPostModal');
            const postModalOverlay = document.getElementById('postModalOverlay');
            const publishPostBtn = document.getElementById('publishPostBtn');
            const postContent = document.getElementById('postContent');
            const imageInput = document.getElementById('imageInput');
            const addImageBtn = document.getElementById('addImageBtn');
            const imagePreviewContainer = document.getElementById('imagePreviewContainer');
            const imagePreview = document.getElementById('imagePreview');
            const removeImage = document.getElementById('removeImage');
            const mobileCreatePost = document.getElementById('mobileCreatePost');
            const mobileMenuButton = document.getElementById('openMobileMenu');
            const closeMobileMenu = document.getElementById('closeMobileMenu');
            const mobileSidebar = document.getElementById('mobileSidebar');
            const mobileOverlay = document.getElementById('mobileOverlay');
            const themeToggle = document.getElementById('themeToggle');
            const moonIcon = document.getElementById('moonIcon');
            const sunIcon = document.getElementById('sunIcon');
            const mobileThemeToggle = document.getElementById('mobileThemeToggle');
            const mobileMoonIcon = document.getElementById('mobileMoonIcon');
            const mobileSunIcon = document.getElementById('mobileSunIcon');
            const mobileThemeText = document.getElementById('mobileThemeText');

            // Initialize theme
            function initTheme() {
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    document.documentElement.classList.add('dark');
                    updateThemeIcons(true);
                }

                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                    if (event.matches) {
                        document.documentElement.classList.add('dark');
                        updateThemeIcons(true);
                    } else {
                        document.documentElement.classList.remove('dark');
                        updateThemeIcons(false);
                    }
                });
            }

            // Update theme icons
            function updateThemeIcons(isDark) {
                if (isDark) {
                    moonIcon.classList.add('hidden');
                    sunIcon.classList.remove('hidden');
                    mobileMoonIcon.classList.add('hidden');
                    mobileSunIcon.classList.remove('hidden');
                    mobileThemeText.textContent = 'Light Mode';
                } else {
                    moonIcon.classList.remove('hidden');
                    sunIcon.classList.add('hidden');
                    mobileMoonIcon.classList.remove('hidden');
                    mobileSunIcon.classList.add('hidden');
                    mobileThemeText.textContent = 'Dark Mode';
                }
            }

            // Toggle theme
            themeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                updateThemeIcons(document.documentElement.classList.contains('dark'));
            });

            mobileThemeToggle.addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                updateThemeIcons(document.documentElement.classList.contains('dark'));
            });

            // Format time (e.g., "2 hours ago")
            function formatTime(timeString) {
                // This is a simple implementation - in a real app, you would use a library like date-fns
                return timeString;
            }

            // Create post element
            function createPostElement(post) {
                const postElement = document.createElement('div');
                postElement.className = 'bg-white dark:bg-gray-800 rounded-lg shadow';

                // Post header
                let postHTML = `
                <div class="p-4">
                    <div class="flex">
                        <img src="${post.user.avatar}" alt="${post.user.name}" class="w-10 h-10 rounded-full">
                        <div class="ml-3">
                            <div class="font-medium">${post.user.name}</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                ${formatTime(post.time)}  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                        </div>
                        <div class="ml-auto text-gray-500 dark:text-gray-400">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                            </svg>
                        </div>
                    </div>
                    <div class="mt-3">
                        <p>${post.content}</p>
                    </div>
                </div>
            `;

                // Post image (if exists)
                if (post.image) {
                    postHTML += `
                    <div class="post-image-container">
                        <img src="${post.image}" alt="Post image" class="w-full h-full object-cover">
                    </div>
                `;
                }

                // Post actions
                postHTML += `
                <div class="px-4 py-2 border-t border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-1 text-gray-500 dark:text-gray-400 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                            </svg>
                            <span>${post.likes}</span>
                        </div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <span>${post.comments} comments</span>
                            <span class="mx-1"></span>
                            <span>${post.shares} shares</span>
                        </div>
                    </div>
                </div>
                <div class="p-2 flex items-center justify-around">
                    <button class="reaction-btn flex items-center justify-center space-x-1 py-2 px-4 rounded-lg w-full hover:bg-gray-100 dark:hover:bg-gray-700 ${post.isLiked ? 'text-primary font-medium active' : 'text-gray-500 dark:text-gray-400'}" data-post-id="${post.id}" data-action="like">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                        </svg>
                        <span>Like</span>
                    </button>
                    <button class="reaction-btn flex items-center justify-center space-x-1 py-2 px-4 rounded-lg w-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400" data-post-id="${post.id}" data-action="comment">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                        <span>Comment</span>
                    </button>
                    <button class="reaction-btn flex items-center justify-center space-x-1 py-2 px-4 rounded-lg w-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400" data-post-id="${post.id}" data-action="share">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
                        </svg>
                        <span>Share</span>
                    </button>
                </div>
            `;

                // Comments section
                if (post.commentsList && post.commentsList.length > 0) {
                    postHTML += `
                    <div class="p-4 border-t border-gray-200 dark:border-gray-700 relative">
                        <div class="flex items-center mb-4">
                            <h3 class="font-medium">Comments</h3>
                            <button class="ml-auto text-sm text-primary dark:text-primary-light">View all</button>
                        </div>
                        <div class="comments-container space-y-4 pb-2">
                `;

                    // Add each comment
                    post.commentsList.forEach(comment => {
                        postHTML += `
                        <div class="flex items-start">
                            <img src="${comment.user.avatar}" alt="${comment.user.name}" class="w-8 h-8 rounded-full mr-2">
                            <div class="flex-grow">
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-lg p-2">
                                    <div class="font-medium text-sm">${comment.user.name}</div>
                                    <div class="text-sm">${comment.content}</div>
                                </div>
                                <div class="flex items-center mt-1 text-xs text-gray-500 dark:text-gray-400">
                                    <button class="font-medium ${comment.likes > 0 ? 'text-primary dark:text-primary-light' : ''}">Like</button>
                                    <span class="mx-1"></span>
                                    <button>Reply</button>
                                    <span class="mx-1"></span>
                                    <span>${formatTime(comment.time)}</span>
                                    ${comment.likes > 0 ? `
                                        <span class="flex items-center ml-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                                            </svg>
                                            <span class="ml-1">${comment.likes}</span>
                                        </span>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                    });

                    postHTML += `
                        </div>
                        <div class="flex items-center mt-4">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='12' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E" alt="Your avatar" class="w-8 h-8 rounded-full mr-2">
                            <div class="flex-grow relative">
                                <input type="text" class="w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-full py-2 pl-4 pr-10 text-sm" placeholder="Write a comment...">
                                <button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-primary dark:text-primary-light">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                }

                postElement.innerHTML = postHTML;


                // Add event listeners
                const likeButton = postElement.querySelector(`.reaction-btn[data-action="like"]`);
                if (likeButton) {
                    likeButton.addEventListener('click', () => {
                        toggleLike(post.id);
                    });
                }

                return postElement;
            }

            // Render all posts
            function renderPosts() {
                postsContainer.innerHTML = '';
                posts.forEach(post => {
                    const postElement = createPostElement(post);
                    postsContainer.appendChild(postElement);
                });
            }

            // Toggle like on a post
            function toggleLike(postId) {
                const postIndex = posts.findIndex(p => p.id === postId);
                if (postIndex !== -1) {
                    const post = posts[postIndex];
                    post.isLiked = !post.isLiked;
                    post.likes += post.isLiked ? 1 : -1;

                    // Update UI for this specific post
                    const likeButton = document.querySelector(`.reaction-btn[data-post-id="${postId}"][data-action="like"]`);
                    const likesCount = likeButton.closest('.p-2').previousElementSibling.querySelector('span');

                    if (post.isLiked) {
                        likeButton.classList.add('text-primary', 'font-medium', 'active');
                        likeButton.classList.remove('text-gray-500', 'dark:text-gray-400');
                    } else {
                        likeButton.classList.remove('text-primary', 'font-medium', 'active');
                        likeButton.classList.add('text-gray-500', 'dark:text-gray-400');
                    }

                    // Update likes count
                    likesCount.textContent = post.likes;

                    // Add animation
                    likeButton.querySelector('svg').classList.add('animate-pulse-once');
                    setTimeout(() => {
                        likeButton.querySelector('svg').classList.remove('animate-pulse-once');
                    }, 1000);
                }
            }

            // Create a new post
            function createNewPost() {
                const content = postContent.value.trim();
                if (!content && !imagePreview.src) return;

                const newPost = {
                    id: posts.length + 1,
                    user: {
                        name: "John Smith",
                        username: "johnsmith",
                        avatar: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Crect width='40' height='40' fill='%235D5CDE'/%3E%3Ctext x='50%25' y='50%25' font-family='Arial' font-size='16' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'%3EJS%3C/text%3E%3C/svg%3E"
                    },
                    time: "Just now",
                    content: content,
                    image: imagePreview.src || null,
                    likes: 0,
                    comments: 0,
                    shares: 0,
                    isLiked: false,
                    commentsList: []
                };

                // Add to the top of the posts array
                posts.unshift(newPost);

                // Clear form
                postContent.value = '';
                imagePreview.src = '';
                imagePreviewContainer.classList.add('hidden');

                // Close modal
                createPostModal.classList.add('hidden');

                // Render updated posts
                renderPosts();
            }

            // Mobile menu handling
            mobileMenuButton.addEventListener('click', () => {
                mobileSidebar.classList.add('open');
                mobileOverlay.classList.add('open');
            });

            closeMobileMenu.addEventListener('click', () => {
                mobileSidebar.classList.remove('open');
                mobileOverlay.classList.remove('open');
            });

            mobileOverlay.addEventListener('click', () => {
                mobileSidebar.classList.remove('open');
                mobileOverlay.classList.remove('open');
            });

            // Post modal handling
            openPostModal.addEventListener('click', () => {
                createPostModal.classList.remove('hidden');
                postContent.focus();
            });

            mobileCreatePost.addEventListener('click', () => {
                createPostModal.classList.remove('hidden');
                postContent.focus();
            });

            closePostModal.addEventListener('click', () => {
                createPostModal.classList.add('hidden');
            });

            postModalOverlay.addEventListener('click', () => {
                createPostModal.classList.add('hidden');
            });

            // Image upload handling
            addImageBtn.addEventListener('click', () => {
                imageInput.click();
            });

            imageInput.addEventListener('change', (e) => {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();

                    reader.onload = (e) => {
                        imagePreview.src = e.target.result;
                        imagePreviewContainer.classList.remove('hidden');
                    };

                    reader.readAsDataURL(e.target.files[0]);
                }
            });

            removeImage.addEventListener('click', () => {
                imagePreview.src = '';
                imageInput.value = '';
                imagePreviewContainer.classList.add('hidden');
            });

            // Publish post
            publishPostBtn.addEventListener('click', createNewPost);

            // Initialize the app
            function init() {
                // Initialize theme
                initTheme();

                // Render posts
                renderPosts();

                // Auto-resize textarea
                postContent.addEventListener('input', () => {
                    postContent.style.height = 'auto';
                    postContent.style.height = (postContent.scrollHeight) + 'px';
                });

                // Escape key closes modals
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        createPostModal.classList.add('hidden');
                    }
                });
            }

            // Start the app
            document.addEventListener('DOMContentLoaded', init);
        </script>
    </body>

</html>